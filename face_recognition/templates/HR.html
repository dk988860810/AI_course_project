<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>火災預警系統</title>
  <link rel="icon" href="{{ url_for('static', filename='image/logo.png') }}">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/HR.css') }}">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    a:hover {
        color: white !important;
    }
</style>
</head>
<body>
<header>
  <div class="header-content">
    <img src="{{ url_for('static', filename='image/logo.png') }}" alt="Logo" class="logo">
    <span class="system-name">員工資料</span>
    <nav>
      <div class="nav-buttons">
        <a href="/attendance" class="status-btn">出缺勤狀況</a>
        <a href="/employee_data" class="status-btn">員工資料</a>
        <a href="{{ url_for('login') }}" class="logout-link">
          <button class="logout-button">Log out</button>
        </a>
      </div>
    </nav>
  </div>
</header>

  <main>
    <div class="search-container">
      <input type="text" id="searchInput" class="search-input" placeholder="搜尋員工...">
      <button id="searchBtn" class="search-btn"><i class="material-icons">search</i></button>
      <button id="addEmployeeBtn" class="add-employee-btn">新增員工</button>

    <a href="/get_face"><button class="status-btn face">臉部註冊</button></a>

    <!-- 在這裡加入 Bootstrap 彈窗的按鈕 -->
<!--    <a href="/features_extraction"><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Features Extraction</button></a>-->
<!--    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Features Extraction</button>-->

<!--    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">Features Extraction</button>-->
<form onsubmit="executeRoute(event)">
    <button type="submit" data-toggle="modal" data-target="#myModal">Features Extraction</button>
</form>

    <!-- The Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Features Extraction</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body">
                    <!-- Modal 內容 -->
                    <p>特征提取成功</p>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

    <a href="/face_recognition"><button class="status-btn face" >Face recognizer</button></a>

    <a href="/user_form"><button class="status-btn face">User Form</button></a>

    </div>    

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>工號</th>
            <th>姓名</th>
            <th>職務名稱</th>
            <th>所屬組別</th>
            <th>辦公位置</th>
            <th>聯絡電話</th>
            <th>緊急聯絡人</th>
            <th>緊急聯絡人電話</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody id="HR_accounts">
          {% for HR_accounts in rows %}
          <tr>
            <td>{{ HR_accounts.工號 }}</td>
            <td>{{ HR_accounts.姓名 }}</td>
            <td>{{ HR_accounts.職務名稱 }}</td>
            <td>{{ HR_accounts.所屬組別 }}</td>
            <td>{{ HR_accounts.辦公位置 }}</td>
            <td>{{ HR_accounts.聯絡電話 }}</td>
            <td>{{ HR_accounts.緊急聯絡人 }}</td>
            <td>{{ HR_accounts.緊急聯絡人電話 }}</td>
            <td>
              <button class="edit-btn" data-HR_accounts-id="{{ HR_accounts.工號 }}">編輯</button>
              <button class="delete-btn" data-HR_accounts-id="{{ HR_accounts.工號 }}">刪除</button>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="pagination-container">
      <div class="pagination">
        {% if page > 1 %}
          <a href="{{ url_for('profile', page=page - 1) }}">上一頁</a>
        {% endif %}
        <span class="page-info">{{ page }} / {{ total_pages }}</span>
        {% if page < total_pages %}
          <a href="{{ url_for('profile', page=page + 1) }}">下一頁</a>
        {% endif %}
      </div>
    </div>
  </main>

  <!-- 新增員工彈出視窗 -->
  <div id="addEmployeeModal" class="modal">
    <div class="modal-content">
      <span id="cancelAddEmployee_2" class="close">&times;</span>
      <h2>新增員工</h2>
      <form id="addEmployeeForm" enctype="multipart/form-data">
        <label for="name">姓名:</label>
        <input type="text" id="name" name="name" required>

        <label for="jobTitle">職務:</label>
        <input type="text" id="jobTitle" name="jobTitle" required>

        <label for="department">部門:</label>
        <input type="text" id="department" name="department" required>

        <label for="location">辦公位置:</label>
        <input type="text" id="location" name="location" required>

        <label for="phone">聯絡電話:</label>
        <input type="tel" id="phone" name="phone" required>

        <label for="emergencyContact">緊急聯絡人:</label>
        <input type="text" id="emergencyContact" name="emergencyContact" required>

        <label for="personalFiles">緊急聯絡人電話:</label>
        <input type="text" id="personalFiles" name="personalFiles" required>

        <button type="submit">新增</button>
        <button type="button" id="cancelAddEmployee">取消</button>
      </form>
    </div>
  </div>


  <footer>
    © 2024 火災預警系統
  </footer>

  <script src="{{ url_for('static', filename='js/HR.js') }}"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="{{ url_for('static', filename='js/index.js') }}"></script>
</body>
</html>
